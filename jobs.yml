jobs:
  - name: my-manifest1
    type: manifest
    steps:
      - GET: nginx-image
      # - GET: params1
      - GET: replicas1
      # - GET: dockerOptions1
      
  - name: my-manifest2
    type: manifest
    steps:
      - GET: busybox-image
      # - GET: params2
      # - GET: replicas2

  - name: my-ecs-service1
    type: ecsDeploy
    steps:
      # - GET: my-manifest1
      # - GET: my-manifest2
      - GET: release1
      - GET: ecsCluster
      # - GET: replicas2
      #   applyTo: 
      #     - my-manifest1
      #     - my-manifest2
      - GET: params2
        # applyTo:
        #   - not-an-image
      - GET: dockerOptions2
        # applyTo:
        #   - not-an-image
      # - GET: kickstarter
      # - PUT: nginx-image
      
  # - name: ecs-service2
  #   type: ecsDeploy
  #   steps:
  #     - GET: ecs-service1
  #     - GET: my-manifest2
  #     - GET: ecsCluster
  #     - GET: replicas3
      # - GET: params3
      # - GET: dockerOptions3
      
  # - name: dcl-service1
  #   type: dclDeploy
  #   steps:
  #     - GET: manifest2
  #     - GET: dclCluster
      
  # - name: dcl-service2
  #   type: dclDeploy
  #   steps:
  #     - GET: dcl-service1
  #     - GET: dclCluster
      
  # - name: run-sample_python
  #   type: runCI
  #   steps:
  #     - GET: sample_python
  #     - PUT: nginx-image
  
  - name: release1
    type: release
    options:
      action: patch
    steps:
      - GET: version1
      - GET: manifest2
